---
title: Python 数据类型基础
date: 2018-02-09 12:45:14
tags:
  - Python
  - 数据类型
  - dict
  - set
  - tuple
categories:
  - Python
---

[toc]

## 注意
- **4**个空格缩进；
- 大小写敏感；

## 数据类型

### 1. 整数

Python可以处理任意大小的整数，包括负整数。

### 2. 浮点数

整数和浮点数在计算机内部存储的方式是不同的，整数运算永远是精确的（==除法也是精确的==），而浮点数运算则可能会有四舍五入的误差。

在Python中有两种除法，一种除法是`/`，`/`除法计算结果是浮点数，即使是两个整数恰好整除，结果也是浮点数；另一种除法是`//`，称为地板除，两个整数的除法仍然是整数。

### 3. 字符串

字符串是以单引号`'`或双引号`"`括起来的任意文本。

Python允许用r''表示''内部的字符串默认不转义。

如果字符串内部有很多换行，用\n写在一行里不好阅读，为了简化，Python允许用'''...'''的格式表示多行内容

### 4. 布尔值

`True`、`False`（注意大小写）

### 5. 空值

空值是Python里一个特殊的值，用`None`表示。`None`不能理解为`0`，因为`0`是有意义的，而`None`是一个特殊的空值。Python还提供了列表、字典等多种数据类型，还允许创建自定义数据类型。

### 6. 变量

可以把任意数据类型赋值给变量，同一个变量可以反复赋值，而且可以是不同类型的变量。

### 7. 常量

在Python中，通常用全部大写的变量名表示常量。用全部大写的变量名表示常量只是一个习惯上的用法。

### 8. 列表`list`

list是一种有序的集合，可以随时添加和删除其中的元素。list里面的元素的数据类型可以不同。

`['Michael', 'Bob', 'Tracy']`

可通过下标索引访问list元素，如：mates[0];

也可通过负数做索引访问倒数第n个元素，如：mates[-2];

`len()`函数可以获得list元素的个数；

`append()`函数追加元素到list末尾，如：`mates.append('Xiao Hong')`；

`insert()`函数将元素插入到指定位置，如：`mates.insert(1, 'Li Ming')`；

`pop()`函数删除list末尾的元素，如：`mates.pop()`，
要删除指定位置的元素，用`pop(i)`方法，`i`是索引位置；

要替换元素，可直接赋值给对应的索引位置；

### 9. tuple（元组）

元组，是一种有序列表。它和list非常类似，但是tuple一旦初始化就不能修改。

`('Michael', 'Bob', 'Tracy')`

要定义一个元素的tuple，不能使用：`(1)`，因为括号既可以表示tuple，又可以表示数学公式中的小括号，这就产生了歧义，因此，Python规定，这种情况下，按小括号进行计算，所以，只有1个元素的tuple定义时必须加一个逗号`,`，来消除歧义：`(1,)`，（Python在显示只有1个元素的tuple时，也会加一个逗号`,`，以免用户误解成数学计算意义上的括号）。

“可变的”tuple：当tuple里的元素包含list时，可修改tuple里的list元素，这样看起来像是“可变的”。

tuple所谓的“不变”是说，tuple的每个元素，指向永远不变。当指向一个list，就不能改变指成其他对象，但指向的这个list本身是可变的。

## 条件判断

```
if <条件判断1>:
    <执行1>
elif <条件判断2>:
    <执行2>
elif <条件判断3>:
    <执行3>
else:
    <执行4>
```

只要‘条件判断’中的结果不为：非零数值、非空字符串、非空list等，就判断为`True`，否则为`False`。

## 循环

Python有两种循环方式：

1.for...in，如：

```
sum = 0
for x in range(101):
    sum += x
print(sum)
```

2.while，如：

```
sum = 0
n = 99
while n > 0:
    sum += n
    n = n - 2
print(sum)
```

## dict

Python内置了字典：dict的支持，dict全称dictionary，在其他语言中也称为map，使用键-值（key-value）存储，具有极快的查找速度。

`{'Michael':95, 'Bob':75, 'Tracy':85}`

把数据放入dict的方法，除了初始化时指定外，还可以通过key放入：`d['Adam'] = 67`

可通过`in`判断key是否存在：
```
>>>'Thomas' in d
False
```
可也通过dict提供的get方法，如果key不存在，可以返回None，或者自己指定的value：
```
>>>d.get('Thomas')
>>>d.get('Thomas', -1)
-1
```
注意：返回`None`的时候Python的交互式命令行不显示结果。

`pop(key)`方法可以删除一个key，如：`d.pop('Bob')`

**dict内部存放的顺序和key放入的顺序是没有关系的。**

**dict的key必须是不可变对象**

## set

set和dict类似，也是一组key的组合，但不存储value。由于key不能重复，所以，在set中，没有重复的key。

要创建一个set，需要提供一个list作为输入集合：
```
>>>s = set([1,2,3])
>>>s
{1,2,3}
```
注意，传入的参数`[1,3,3]`是一个list，而显示的`{1,2,3}`只是告诉你这个set内部有1,2,3这3个元素，显示的顺序也不表示set是有序的。

重复元素在set中自动被过滤。

通过`add(key)`方法可以添加元素到set中，可以重复添加，但不会有效果。

通过`remove(key)`方法可以删除元素。

set可以看成数学意义上的无序和无重复元素的集合，因此，两个set可以做数学意义上的交集、并集等操作：
```
>>>s1 = set([1,2,3])
>>>s2 = set([2,3,4])
>>>s1 & s2
{2,3}
>>>s1 | s2
{1,2,3,4}
```
set和dict的唯一区别在于没有存储对应的value，但是，set的原理和dict一样，所以，同样不可以放入可变对象，因为无法判断两个可变对象是否相等，也就无法保证set内部“不会有重复元素”。


**对于不变对象来说，调用对象自身的任意方法，也不会改变该对象自身的内容。相反，这些方法会创建新的对象并返回，这样，就保证了不可变对象本身永远是不可变的。**
